<script>
  const quiz = [
    {
      question:'フルーツじゃないものが・・・',
      answers:[
        'メロンパン',
        'りんご',
        'バナナ',
        'ぶどう',
      ],
      correct: 'メロンパン'
    },{
      question:'かたちをおもいだそう！',
      answers:[
        'ドーナツ',
        'ちくわ',
        'りんご',
        '5円玉',
      ],
      correct: 'りんご'
    },{
      question:'さかなのようにみえるけど・・・',
      answers:[
        'まぐろ',
        'きんぎょ',
        'さんま',
        'イルカ',
      ],
      correct: 'イルカ'
    },{
      question:'でんきやさんにありますか？',
      answers:[
        'ぬいぐるみ',
        'れいぞうこ',
        'せんたくき',
        'エアコン',
      ],
      correct: 'ぬいぐるみ'
    },{
      question:'どのようにうごくかな？',
      answers:[
        'こま',
        'かんらんしゃ',
        'コーヒーカップ',
        'ぶらんこ',
      ],
      correct: 'ぶらんこ'
    },{
      question:'おいたままだと・・・',
      answers:[
        'ガリガリ君',
        'こめ',
        'チョコレート',
        'こおり',
      ],
      correct: 'こめ'
    },{
      question:'きょうはあめだ！',
      answers:[
        'かっぱ',
        'ながぐつ',
        'かさ',
        'めがね',
      ],
      correct: 'めがね'
    },{
      question:'もじにヒント！',
      answers:[
        'とまと',
        'しんぶんし',
        'すいす',
        'たんぽぽ',
      ],
      correct: 'たんぽぽ'
    },{
      question:'いどうするときどうする？',
      answers:[
        'からす',
        'はち',
        'ぺんぎん',
        'とんぼ',
      ],
      correct: 'ぺんぎん'
    },{
      question:'うりばをおもいだそう！',
      answers:[
        'おさら',
        'くつした',
        'おはし',
        'さんだる',
      ],
      correct: 'おさら'
     },
  ];
  const quizLength = quiz.length;
  let quizIndex = 0;


  // const question = 'ぞうとさんまはどちらが大きいですか？';
  // const answers = [
  //   'ぞう',
  //   'さんま'
  // ];
  // const correct = 'ぞう';

  document.getElementById('test-question').textContent = quiz[quizIndex].question;
  document.getElementsByTagName('button')[0].textContent = quiz[quizIndex].answers[0];
  document.getElementsByTagName('button')[1].textContent = quiz[quizIndex].answers[1];
  document.getElementsByTagName('button')[2].textContent = quiz[quizIndex].answers[2];
  document.getElementsByTagName('button')[3].textContent = quiz[quizIndex].answers[3];

  //正解判定
  document.getElementsByTagName('button')[0].addEventListener('click', (e) =>{
    if(quiz[quizIndex].correct === e.target.textContent){
      window.alert('おめでとう！');
    }else{
      window.alert('ざんねん！');
    }

  //解答から次の問題へ遷移
    quizIndex++;

    if(quizIndex < quizLength){
      document.getElementById('test-question').textContent = quiz[quizIndex].question;

      document.getElementsByTagName('button')[0].textContent = quiz[quizIndex].answers[0];
      document.getElementsByTagName('button')[1].textContent = quiz[quizIndex].answers[1];
      document.getElementsByTagName('button')[2].textContent = quiz[quizIndex].answers[2];
      document.getElementsByTagName('button')[3].textContent = quiz[quizIndex].answers[3];

    }else{
      window.alert('よくがんばりました！トップページに戻りましょう')
    }
  });

  document.getElementsByTagName('button')[1].addEventListener('click', (e) =>{
    if(quiz[quizIndex].correct === e.target.textContent){
      window.alert('おめでとう！');
    }else{
      window.alert('ざんねん！');
    }

    quizIndex++;

    if(quizIndex < quizLength){
      document.getElementById('test-question').textContent = quiz[quizIndex].question;

      document.getElementsByTagName('button')[0].textContent = quiz[quizIndex].answers[0];
      document.getElementsByTagName('button')[1].textContent = quiz[quizIndex].answers[1];
      document.getElementsByTagName('button')[2].textContent = quiz[quizIndex].answers[2];
      document.getElementsByTagName('button')[3].textContent = quiz[quizIndex].answers[3];

    }else{
      window.alert('よくがんばりました！トップページに戻りましょう')
    }
  });

  document.getElementsByTagName('button')[2].addEventListener('click', (e) =>{
    if(quiz[quizIndex].correct === e.target.textContent){
      window.alert('おめでとう！');
    }else{
      window.alert('ざんねん！');
    }

    quizIndex++;

    if(quizIndex < quizLength){
      document.getElementById('test-question').textContent = quiz[quizIndex].question;

      document.getElementsByTagName('button')[0].textContent = quiz[quizIndex].answers[0];
      document.getElementsByTagName('button')[1].textContent = quiz[quizIndex].answers[1];
      document.getElementsByTagName('button')[2].textContent = quiz[quizIndex].answers[2];
      document.getElementsByTagName('button')[3].textContent = quiz[quizIndex].answers[3];

    }else{
      window.alert('よくがんばりました！トップページに戻りましょう')
    }
  });

  document.getElementsByTagName('button')[3].addEventListener('click', (e) =>{
    if(quiz[quizIndex].correct === e.target.textContent){
      window.alert('おめでとう！');
    }else{
      window.alert('ざんねん！');
    }

    quizIndex++;

    if(quizIndex < quizLength){
      document.getElementById('test-question').textContent = quiz[quizIndex].question;

      document.getElementsByTagName('button')[0].textContent = quiz[quizIndex].answers[0];
      document.getElementsByTagName('button')[1].textContent = quiz[quizIndex].answers[1];
      document.getElementsByTagName('button')[2].textContent = quiz[quizIndex].answers[2];
      document.getElementsByTagName('button')[3].textContent = quiz[quizIndex].answers[3];

    }else{
      window.alert('よくがんばりました！トップページに戻りましょう')
    }
  });

</script>